<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Алексей и Полина. Свадебное барбекю | 14 июня</title>
    <style>
      :root {
        --lilac-dark: #b399d4;
        --lilac-medium: #d8bfd8;
        --lilac-light: #e6e6fa;
        --text-dark: #4b0082;
        --text-light: #f8f8ff;
      }

      body {
        font-family: "Cormorant Garamond", serif;
        margin: 0;
        padding: 0;
        color: var(--text-dark);
        background-color: var(--lilac-light);
        line-height: 1.6;
        overflow-x: hidden;
      }

      .background-pattern {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("https://en.idei.club/uploads/posts/2023-06/1687679753_en-idei-club-p-light-purple-abstract-background-dizain-pi-34.jpg")
          center/cover no-repeat;
        opacity: 0.15;
        z-index: -2;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 1;
      }

      header {
        text-align: center;
        padding: 40px 0 20px;
        position: relative;
      }

      h1 {
        font-size: 2.5em;
        margin: 20px 0 10px;
        color: var(--text-dark);
        font-weight: 500;
        letter-spacing: 1px;
        line-height: 1.2;
      }

      h1 small {
        display: block;
        font-size: 0.6em;
        margin-top: 10px;
        color: var(--text-dark);
        opacity: 0.9;
      }

      .wedding-date {
        text-align: center;
        font-size: 1.8em;
        margin: 10px 0 30px;
        color: var(--text-dark);
      }

      h2 {
        font-size: 1.8em;
        font-weight: 400;
        color: var(--text-dark);
        margin-top: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      h2 i {
        font-size: 0.9em;
      }

      .section {
        background-color: rgba(255, 255, 255, 0.82);
        backdrop-filter: blur(6px);
        border-radius: 18px;
        padding: 30px;
        margin: 30px 0;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .countdown {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 30px 0;
        flex-wrap: wrap;
      }

      .countdown-item {
        text-align: center;
        background: white;
        padding: 15px;
        border-radius: 12px;
        min-width: 70px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      .countdown-number {
        font-size: 1.8em;
        font-weight: 600;
        color: var(--text-dark);
      }

      .countdown-label {
        font-size: 0.9em;
        opacity: 0.8;
        margin-top: 5px;
      }

      .dresscode-list {
        list-style-type: none;
        padding: 0;
      }

      .dresscode-list li {
        padding: 12px 0;
        border-bottom: 1px dashed #e0d0ea;
        display: flex;
        align-items: flex-start;
      }

      .dresscode-list i {
        margin-right: 12px;
        color: var(--lilac-dark);
        flex-shrink: 0;
        margin-top: 3px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        font-size: 1.05em;
      }

      input,
      select,
      textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #e0d0ea;
        border-radius: 10px;
        font-family: inherit;
        font-size: 16px;
        background-color: rgba(255, 255, 255, 0.8);
        transition: all 0.3s;
        box-sizing: border-box;
      }

      input:focus,
      textarea:focus,
      select:focus {
        border-color: var(--lilac-dark);
        outline: none;
        box-shadow: 0 0 0 3px rgba(179, 153, 212, 0.2);
      }

      button {
        background-color: var(--text-dark);
        color: white;
        border: none;
        padding: 14px 25px;
        font-size: 1.05em;
        border-radius: 10px;
        cursor: pointer;
        width: 100%;
        transition: all 0.3s;
        font-family: inherit;
        font-weight: 500;
        letter-spacing: 0.5px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      button:hover {
        background-color: #5a2d8a;
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .map-container {
        height: 350px;
        border-radius: 15px;
        overflow: hidden;
        margin-top: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.5);
      }

      footer {
        text-align: center;
        padding: 30px 0;
        margin-top: 40px;
        border-top: 1px solid rgba(0, 0, 0, 0.08);
      }

      .floating-hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .heart {
        position: absolute;
        opacity: 0;
        font-size: 18px;
        color: rgba(179, 153, 212, 0.7);
        animation: float 10s linear infinite;
      }

      .eager-text {
        font-weight: 600;
        font-size: 1.4em;
        text-align: center;
        margin: 30px 0;
        line-height: 1.4;
        padding: 0 15px;
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        20% {
          opacity: 0.8;
        }
        100% {
          transform: translateY(-100px) rotate(720deg);
          opacity: 0;
        }
      }

      /* Улучшения для мобильных устройств */
      @media (max-width: 768px) {
        .container {
          padding: 15px;
        }

        header {
          padding: 30px 0 15px;
        }

        h1 {
          font-size: 2em;
        }

        .wedding-date {
          font-size: 1.5em;
        }

        h2 {
          font-size: 1.5em;
        }

        .section {
          padding: 20px;
          margin: 25px 0;
          border-radius: 15px;
        }

        .countdown {
          gap: 10px;
          margin: 20px 0;
        }

        .countdown-item {
          min-width: 60px;
          padding: 12px;
        }

        .countdown-number {
          font-size: 1.5em;
        }

        .countdown-label {
          font-size: 0.8em;
        }

        .map-container {
          height: 250px;
        }

        .dresscode-list li {
          padding: 10px 0;
          font-size: 0.95em;
        }

        button {
          padding: 12px 20px;
          font-size: 1em;
        }

        .eager-text {
          font-size: 1.2em;
          margin: 25px 0;
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 1.8em;
        }

        .wedding-date {
          font-size: 1.3em;
        }

        h2 {
          font-size: 1.3em;
        }

        .section {
          padding: 18px;
        }

        .countdown-item {
          min-width: 55px;
          padding: 10px;
        }

        .countdown-number {
          font-size: 1.3em;
        }

        .map-container {
          height: 200px;
        }

        .eager-text {
          font-size: 1.1em;
        }
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="background-pattern"></div>
    <div class="floating-hearts" id="heartsContainer"></div>

    <div class="container">
      <header>
        <h1>
          Алексей & Полина
          <small>Приглашаем на свадебное барбекю</small>
        </h1>
        <div class="wedding-date">14 июня 2025 года</div>
      </header>

      <div class="section">
        <h2><i class="far fa-calendar-alt"></i> Дата и время</h2>
        <p>Начало в 15:30</p>

        <div class="countdown" id="countdown">
          <div class="countdown-item">
            <div class="countdown-number" id="days">00</div>
            <div class="countdown-label">дней</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="hours">00</div>
            <div class="countdown-label">часов</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="minutes">00</div>
            <div class="countdown-label">минут</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="seconds">00</div>
            <div class="countdown-label">секунд</div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><i class="fas fa-map-marker-alt"></i> Место проведения</h2>
        <p>Тульская обл., муниципальное образование Тула, с. Высокое, 130А</p>

        <div class="map-container">
          <iframe
            src="https://yandex.ru/map-widget/v1/?ll=37.748250%2C54.214835&mode=search&oid=1067175236042844&ol=biz&z=16.35"
            width="100%"
            height="100%"
            frameborder="0"
            allowfullscreen="true"
            style="position: relative"
          ></iframe>
        </div>
      </div>

      <div class="section">
        <h2><i class="fa-solid fa-file-pen"></i> Памятка для гостей</h2>
        <ul class="dresscode-list">
          <li>
            <i class="fas fa-tshirt"></i>
            <div>
              <strong>Дресс-код:</strong> максимально удобный и комфортный для
              вас.
            </div>
          </li>
          <li>
            <i class="fas fa-gift"></i>
            <div>
              <strong>Подарки:</strong> просьба не дарить цветы, пусть они
              продолжают радовать всех на клумбах. Если хотите сделать подарок -
              мы будем рады вкладу в наше совместное будущее.
            </div>
          </li>
          <li>
            <i class="fas fa-home"></i>
            <div>
              <strong>Проживание:</strong> для иногородних гостей будет
              предоставлено жилье в доме в ночь с 14 на 15 июня. Возьмите с
              собой необходимые вам личные вещи.
            </div>
          </li>
          <li>
            <i class="fa-solid fa-champagne-glasses"></i>
            <div>
              <strong>Развлечения:</strong> барбекю, бильярд, караоке,
              панорамная беседка на берегу частного пруда.
            </div>
          </li>
          <li>
            <i class="fas fa-heart"></i>
            <div>
              <strong>Пожелания:</strong> будем благодарны, если вы воздержитесь
              от криков «Горько!» на празднике, ведь поцелуй - это знак
              выражения чувств, он не может быть по заказу.
            </div>
          </li>
        </ul>
      </div>

      <div class="section">
        <h2><i class="fas fa-envelope"></i> Подтвердите присутствие</h2>
        <p>Пожалуйста, ответьте до 5 июня 2025 года</p>
        <form
          id="weddingForm"
          action="https://formspree.io/f/xgvajrba"
          method="POST"
        >
          <!-- Тема письма -->
          <input
            type="hidden"
            name="_subject"
            value="Подтверждение присутствия на свадьбе"
          />
          <!-- Перенаправление -->
          <input type="hidden" name="_next" value="thank-you.html" />
          <!-- Ответ -->
          <input type="hidden" name="_replyto" value="ваш-email@example.com" />
          <!-- Капча (рекомендуется) -->
          <input type="hidden" name="_gotcha" style="display: none" />

          <!-- Поля формы -->
          <div class="form-group">
            <label for="name">Ваше имя*</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              minlength="2"
              pattern="[А-Яа-яЁё\s]+"
              title="Только русские буквы"
            />
          </div>

          <div class="form-group">
            <label for="guests">Количество гостей*</label>
            <select id="guests" name="guests" required>
              <option value="" disabled selected>Выберите количество</option>
              <option value="1 человек">1 человек</option>
              <option value="2 человека">2 человека</option>
            </select>
          </div>

          <div class="form-group">
            <label for="alcohol">
              Укажите предпочитаемые виды алкогольных напитков и их количество*
            </label>
            <textarea
              id="alcohol"
              name="alcohol"
              rows="2"
              required
              placeholder="Например: 1 бутылка красного вина, 2 бутылки пива"
              minlength="10"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="message">Ваши пожелания и другие комментарии</label>
            <textarea
              id="message"
              name="message"
              rows="2"
              maxlength="500"
            ></textarea>
          </div>

          <button type="submit">
            <i class="fas fa-paper-plane"></i> Подтвердить присутствие
          </button>
        </form>
      </div>

      <div class="eager-text">
        С нетерпением ждём встречи и будем счастливы разделить этот особенный
        день с вами! <br />
        Ваше присутствие - самый ценный подарок для нас.
      </div>
    </div>

    <footer>
      <h3>Контакты</h3>
      <p><i class="fas fa-phone"></i> Алексей: +7 (999) 795-89-98</p>
      <p><i class="fas fa-phone"></i> Полина: +7 (996) 161-03-10</p>

      <div style="margin-top: 30px">
        <p style="font-weight: 600; font-size: 1.1em">♥ Алексей и Полина ♥</p>
        <p>До встречи 14 июня 2025 года!</p>
        <br />
        <p>
          <small>
            Сайт создан при поддержке молодоженов и DeepSeek. Боже, храни ИИ!
          </small>
        </p>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // 1. Медленные плавающие сердца
        function createHearts() {
          const container = document.getElementById("heartsContainer");
          const heartCount = 20;

          for (let i = 0; i < heartCount; i++) {
            const heart = document.createElement("div");
            heart.innerHTML = "❤";
            heart.classList.add("heart");

            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDelay = Math.random() * 15 + "s";
            heart.style.animationDuration = 20 + Math.random() * 30 + "s";
            heart.style.fontSize = 12 + Math.random() * 12 + "px";
            heart.style.color = `rgba(179, 153, 212, ${
              Math.random() * 0.5 + 0.3
            })`;

            container.appendChild(heart);
          }
        }

        // 2. Эффект сияния (глиттер)
        function createGlitter() {
          const glitterContainer = document.createElement("div");
          glitterContainer.style.position = "fixed";
          glitterContainer.style.top = "0";
          glitterContainer.style.left = "0";
          glitterContainer.style.width = "100%";
          glitterContainer.style.height = "100%";
          glitterContainer.style.pointerEvents = "none";
          glitterContainer.style.zIndex = "-1";
          document.body.appendChild(glitterContainer);

          function createSparkle() {
            const sparkle = document.createElement("div");
            sparkle.style.position = "absolute";
            sparkle.style.width = "6px";
            sparkle.style.height = "6px";
            sparkle.style.backgroundColor = "rgba(255, 255, 255, 0.8)";
            sparkle.style.borderRadius = "50%";
            sparkle.style.left = Math.random() * 100 + "vw";
            sparkle.style.top = Math.random() * 100 + "vh";
            sparkle.style.boxShadow = "0 0 10px 2px rgba(255,255,255,0.8)";

            if (Math.random() > 0.7) {
              sparkle.style.boxShadow = "0 0 12px 3px rgba(179, 153, 212, 0.6)";
            }

            glitterContainer.appendChild(sparkle);

            const duration = 2000 + Math.random() * 3000;
            sparkle.animate(
              [
                { opacity: 0, transform: "scale(0.5)" },
                { opacity: 1, transform: "scale(1.2)" },
                { opacity: 0, transform: "scale(0.5)" },
              ],
              {
                duration: duration,
                easing: "ease-in-out",
              }
            );

            setTimeout(() => {
              sparkle.remove();
            }, duration);
          }

          setInterval(createSparkle, 350);

          for (let i = 0; i < 15; i++) {
            setTimeout(createSparkle, i * 100);
          }
        }

        // 3. Таймер обратного отсчёта
        function updateCountdown() {
          const weddingDate = new Date("June 14, 2025 15:30:00").getTime();

          function update() {
            const now = new Date().getTime();
            const distance = weddingDate - now;

            if (distance < 0) {
              document.getElementById("countdown").innerHTML =
                '<div style="text-align: center; font-size: 1.5em;">Свадьба состоялась! Спасибо, что были с нами!</div>';
              return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor(
              (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
            );
            const minutes = Math.floor(
              (distance % (1000 * 60 * 60)) / (1000 * 60)
            );
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").textContent = days
              .toString()
              .padStart(2, "0");
            document.getElementById("hours").textContent = hours
              .toString()
              .padStart(2, "0");
            document.getElementById("minutes").textContent = minutes
              .toString()
              .padStart(2, "0");
            document.getElementById("seconds").textContent = seconds
              .toString()
              .padStart(2, "0");
          }

          update();
          setInterval(update, 1000);
        }

        // 4. Анимации для иконок
        function animateIcons() {
          const icons = document.querySelectorAll(".dresscode-list i");

          icons.forEach((icon) => {
            icon.addEventListener("mouseover", () => {
              icon.style.transform = "scale(1.2)";
              icon.style.textShadow = "0 0 10px rgba(179, 153, 212, 0.7)";
            });

            icon.addEventListener("mouseout", () => {
              icon.style.transform = "scale(1)";
              icon.style.textShadow = "none";
            });

            setInterval(() => {
              icon.animate(
                [
                  { transform: "translateY(0)" },
                  { transform: "translateY(-3px)" },
                  { transform: "translateY(0)" },
                ],
                {
                  duration: 800,
                  iterations: 1,
                }
              );
            }, 8000 + Math.random() * 10000);
          });
        }

        // Инициализация всех эффектов
        createHearts();
        createGlitter();
        animateIcons();
        updateCountdown();

        // Обработка формы
        const form = document.getElementById("weddingForm");
        if (form) {
          const submitBtn = form.querySelector('button[type="submit"]');
          const originalBtnText = submitBtn.innerHTML;

          form.addEventListener("submit", async function (e) {
            e.preventDefault();

            try {
              // Показываем индикатор загрузки
              submitBtn.disabled = true;
              submitBtn.innerHTML =
                '<i class="fas fa-spinner fa-spin"></i> Отправка...';

              // Собираем данные формы
              const formData = new FormData(form);
              const formObject = {};
              formData.forEach((value, key) => (formObject[key] = value));

              // Вариант 1: Отправка через Formspree с JSON
              const response = await fetch("https://formspree.io/f/xbjndqyv", {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                  Accept: "application/json",
                },
                body: JSON.stringify(formObject),
              });

              // Вариант 2: Если CORS продолжает блокировать (раскомментируйте этот вариант)
              /*
                const response = await fetch("https://cors-anywhere.herokuapp.com/https://formspree.io/f/xbjndqyv", {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                  },
                  body: JSON.stringify(formObject)
                });
                */

              if (response.ok) {
                // Перенаправляем на страницу благодарности
                window.location.href = "thank-you.html";
              } else {
                const errorData = await response.json();
                throw new Error(errorData.error || "Ошибка сервера");
              }
            } catch (error) {
              console.error("Ошибка отправки:", error);
              alert(
                "Ошибка при отправке. Пожалуйста, попробуйте ещё раз или свяжитесь с нами по телефону."
              );
            } finally {
              submitBtn.disabled = false;
              submitBtn.innerHTML = originalBtnText;
            }
          });
        }
      });

      // Добавляем favicon, чтобы избежать 404 ошибки
      const link = document.createElement("link");
      link.rel = "icon";
      link.href =
        "data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>❤</text></svg>";
      document.head.appendChild(link);
    </script>
  </body>
</html>
